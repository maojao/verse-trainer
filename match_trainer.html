<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì„±ê²½ ìš”ì ˆ ì„ ì‡ê¸° ë§¤ì¹­ (v1)</title>
<style>
:root { --bg: #0f172a; --fg: #e2e8f0; --card-bg: #1e293b; --accent: #3b82f6; --success: #22c55e; --error: #ef4444; --line-width: 3px; }
body { margin: 0; background: var(--bg); color: var(--fg); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; overflow-x: hidden; user-select: none; }
header { padding: 16px; text-align: center; border-bottom: 1px solid #334155; display: flex; justify-content: space-between; align-items: center; max-width: 1000px; margin: 0 auto; }
h1 { margin: 0; font-size: 1.2rem; }
.btn { background: var(--accent); color: white; border: none; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-weight: bold; }
.btn:hover { opacity: 0.9; }

/* ê²Œì„ ì˜ì—­ */
#game-area { position: relative; max-width: 1000px; margin: 20px auto; display: flex; justify-content: space-between; padding: 0 20px; gap: 40px; }
.column { display: flex; flex-direction: column; gap: 15px; width: 45%; z-index: 2; }
.item { background: var(--card-bg); padding: 12px 16px; border-radius: 12px; border: 2px solid #334155; cursor: pointer; transition: all 0.2s; position: relative; display: flex; align-items: center; min-height: 48px; }
.item:hover { border-color: var(--accent); transform: translateY(-2px); }
.item.selected { border-color: var(--accent); box-shadow: 0 0 0 2px var(--accent); background: #1e3a8a; }
.item.matched { border-color: var(--success); opacity: 0.6; pointer-events: none; background: #064e3b; }
.item.shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; border-color: var(--error); }

/* ì™¼ìª½(ì¥ì ˆ) */
.col-left .item { justify-content: center; font-weight: bold; font-size: 1.1rem; text-align: center; }
/* ì˜¤ë¥¸ìª½(ë§ì”€) */
.col-right .item { font-size: 0.95rem; line-height: 1.4; color: #cbd5e1; }

/* SVG ì„  ê·¸ë¦¬ê¸° ë ˆì´ì–´ */
#svg-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
line { stroke-width: var(--line-width); stroke-linecap: round; transition: stroke 0.3s; }

@keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }
@media (max-width: 600px) {
  #game-area { gap: 10px; padding: 0 10px; }
  .col-left { width: 30%; } .col-right { width: 68%; }
  .item { padding: 10px; font-size: 0.85rem; }
  .col-right .item { font-size: 0.8rem; }
}
</style>
</head>
<body>

<header>
  <h1>ğŸ“– ìš”ì ˆ ì„ ì‡ê¸°</h1>
  <div>
    <span id="score">0 / 10</span>
    <button class="btn" onclick="initGame()" style="margin-left: 10px;">ìƒˆ ê²Œì„</button>
  </div>
</header>

<div id="game-area">
  <svg id="svg-layer"></svg>
  <div class="column col-left" id="list-refs"></div>
  <div class="column col-right" id="list-texts"></div>
</div>

<script>
/* ë°ì´í„° (ì œê³µí•´ì£¼ì‹  ë°ì´í„°ì™€ ë™ì¼) */
const CARDS = [
  {ref:"ë¯¼14:9", text:"ë‹¤ë§Œ ì—¬í˜¸ì™€ë¥¼ ê±°ì—­í•˜ì§€ëŠ” ë§ë¼ ë˜ ê·¸ ë•… ë°±ì„±ì„ ë‘ë ¤ì›Œí•˜ì§€ ë§ë¼ ê·¸ë“¤ì€ ìš°ë¦¬ì˜ ë¨¹ì´ë¼ ê·¸ë“¤ì˜ ë³´í˜¸ìëŠ” ê·¸ë“¤ì—ê²Œì„œ ë– ë‚¬ê³  ì—¬í˜¸ì™€ëŠ” ìš°ë¦¬ì™€ í•¨ê»˜ í•˜ì‹œëŠë‹ˆë¼ ê·¸ë“¤ì„ ë‘ë ¤ì›Œí•˜ì§€ ë§ë¼ í•˜ë‚˜"},
  {ref:"ì‹ 7:9", text:"ê·¸ëŸ°ì¦‰ ë„ˆëŠ” ì•Œë¼ ì˜¤ì§ ë„¤ í•˜ë‚˜ë‹˜ ì—¬í˜¸ì™€ëŠ” í•˜ë‚˜ë‹˜ì´ì‹œìš” ì‹ ì‹¤í•˜ì‹  í•˜ë‚˜ë‹˜ì´ì‹œë¼ ê·¸ë¥¼ ì‚¬ë‘í•˜ê³  ê·¸ì˜ ê³„ëª…ì„ ì§€í‚¤ëŠ” ìì—ê²ŒëŠ” ì²œ ëŒ€ê¹Œì§€ ê·¸ì˜ ì–¸ì•½ì„ ì´í–‰í•˜ì‹œë©° ì¸ì• ë¥¼ ë² í‘¸ì‹œë˜"},
  {ref:"ìˆ˜1:9", text:"ë‚´ê°€ ë„¤ê²Œ ëª…ë ¹í•œ ê²ƒì´ ì•„ë‹ˆëƒ ê°•í•˜ê³  ë‹´ëŒ€í•˜ë¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ë©° ë†€ë¼ì§€ ë§ë¼ ë„¤ê°€ ì–´ë””ë¡œ ê°€ë“ ì§€ ë„¤ í•˜ë‚˜ë‹˜ ì—¬í˜¸ì™€ê°€ ë„ˆì™€ í•¨ê»˜ í•˜ëŠë‹ˆë¼ í•˜ì‹œë‹ˆë¼"},
  {ref:"ì‹œ8:1", text:"ì—¬í˜¸ì™€ ìš°ë¦¬ ì£¼ì—¬ ì£¼ì˜ ì´ë¦„ì´ ì˜¨ ë•…ì— ì–´ì°Œ ê·¸ë¦¬ ì•„ë¦„ë‹¤ìš´ì§€ìš” ì£¼ì˜ ì˜ê´‘ì´ í•˜ëŠ˜ì„ ë®ì—ˆë‚˜ì´ë‹¤."},
  {ref:"ì‹œ23:1", text:"ì—¬í˜¸ì™€ëŠ” ë‚˜ì˜ ëª©ìì‹œë‹ˆ ë‚´ê²Œ ë¶€ì¡±í•¨ì´ ì—†ìœ¼ë¦¬ë¡œë‹¤."},
  {ref:"ì‹œ25:6", text:"ì—¬í˜¸ì™€ì—¬ ì£¼ì˜ ê¸íœ¼í•˜ì‹¬ê³¼ ì¸ìí•˜ì‹¬ì´ ì˜ì›ë¶€í„° ìˆì—ˆì‚¬ì˜¤ë‹ˆ ì£¼ì—¬ ì´ê²ƒë“¤ì„ ê¸°ì–µí•˜ì˜µì†Œì„œ"},
  {ref:"ì‹œ34:8", text:"ë„ˆí¬ëŠ” ì—¬í˜¸ì™€ì˜ ì„ í•˜ì‹¬ì„ ë§›ë³´ì•„ ì•Œì§€ì–´ë‹¤ ê·¸ì—ê²Œ í”¼í•˜ëŠ” ìëŠ” ë³µì´ ìˆë„ë‹¤."},
  {ref:"ì‹œ37:4", text:"ë˜ ì—¬í˜¸ì™€ë¥¼ ê¸°ë»í•˜ë¼ ê·¸ê°€ ë„¤ ë§ˆìŒì˜ ì†Œì›ì„ ë„¤ê²Œ ì´ë£¨ì–´ ì£¼ì‹œë¦¬ë¡œë‹¤"},
  {ref:"ì‹œ42:5", text:"ë‚´ ì˜í˜¼ì•„ ë„¤ê°€ ì–´ì°Œí•˜ì—¬ ë‚™ì‹¬í•˜ë©° ì–´ì°Œí•˜ì—¬ ë‚´ ì†ì—ì„œ ë¶ˆì•ˆí•´ í•˜ëŠ”ê°€ ë„ˆëŠ” í•˜ë‚˜ë‹˜ê»˜ ì†Œë§ì„ ë‘ë¼ ê·¸ê°€ ë‚˜íƒ€ë‚˜ ë„ìš°ì‹¬ìœ¼ë¡œ ë§ë¯¸ì•”ì•„ ë‚´ê°€ ì—¬ì „íˆ ì°¬ì†¡í•˜ë¦¬ë¡œë‹¤"},
  {ref:"ì‹œ51:10", text:"í•˜ë‚˜ë‹˜ì´ì—¬ ë‚´ ì†ì— ì •í•œ ë§ˆìŒì„ ì°½ì¡°í•˜ì‹œê³  ë‚´ ì•ˆì— ì •ì§í•œ ì˜ì„ ìƒˆë¡­ê²Œ í•˜ì†Œì„œ"},
  {ref:"ì‹œ91:4", text:"ê·¸ê°€ ë„ˆë¥¼ ê·¸ì˜ ê¹ƒìœ¼ë¡œ ë®ìœ¼ì‹œë¦¬ë‹ˆ ë„¤ê°€ ê·¸ì˜ ë‚ ê°œ ì•„ë˜ì— í”¼í•˜ë¦¬ë¡œë‹¤ ê·¸ì˜ ì§„ì‹¤í•¨ì€ ë°©íŒ¨ì™€ ì† ë°©íŒ¨ê°€ ë˜ì‹œë‚˜ë‹ˆ"},
  {ref:"ì‹œ133:1", text:"ë³´ë¼ í˜•ì œê°€ ì—°í•©í•˜ì—¬ ë™ê±°í•¨ì´ ì–´ì°Œ ê·¸ë¦¬ ì„ í•˜ê³  ì•„ë¦„ë‹¤ìš´ê³ "},
  {ref:"ì‹œ136:26", text:"í•˜ëŠ˜ì˜ í•˜ë‚˜ë‹˜ê»˜ ê°ì‚¬í•˜ë¼ ê·¸ ì¸ìí•˜ì‹¬ì´ ì˜ì›í•¨ì´ë¡œë‹¤"},
  {ref:"ì‹œ145:17", text:"ì—¬í˜¸ì™€ê»˜ì„œëŠ” ê·¸ ëª¨ë“  í–‰ìœ„ì— ì˜ë¡œìš°ì‹œë©° ê·¸ ëª¨ë“  ì¼ì— ì€í˜œë¡œìš°ì‹œë„ë‹¤"},
  {ref:"ì 11:1", text:"ì†ì´ëŠ” ì €ìš¸ì€ ì—¬í˜¸ì™€ê»˜ì„œ ë¯¸ì›Œí•˜ì‹œë‚˜ ê³µí‰í•œ ì¶”ëŠ” ê·¸ê°€ ê¸°ë»í•˜ì‹œëŠë‹ˆë¼"},
  {ref:"ì 25:28", text:"ìê¸°ì˜ ë§ˆìŒì„ ì œì–´í•˜ì§€ ì•„ë‹ˆí•˜ëŠ” ìëŠ” ì„±ìì´ ë¬´ë„ˆì§€ê³  ì„±ë²½ì´ ì—†ëŠ” ê²ƒê³¼ ê°™ìœ¼ë‹ˆë¼"},
  {ref:"ë§ˆ5:8", text:"ë§ˆìŒì´ ì²­ê²°í•œ ìëŠ” ë³µì´ ìˆë‚˜ë‹ˆ ê·¸ë“¤ì´ í•˜ë‚˜ë‹˜ì„ ë³¼ ê²ƒì„ì´ìš”."},
  {ref:"ë§ˆ7:15", text:"ê±°ì§“ ì„ ì§€ìë“¤ì„ ì‚¼ê°€ë¼ ì–‘ì˜ ì˜·ì„ ì…ê³  ë„ˆí¬ì—ê²Œ ë‚˜ì•„ì˜¤ë‚˜ ì†ì—ëŠ” ë…¸ëµì§ˆí•˜ëŠ” ì´ë¦¬ë¼"},
  {ref:"ë§ˆ11:25", text:"ê·¸ ë•Œì— ì˜ˆìˆ˜ê»˜ì„œ ëŒ€ë‹µí•˜ì—¬ ì´ë¥´ì‹œë˜ ì²œì§€ì˜ ì£¼ì¬ì´ì‹  ì•„ë²„ì§€ì—¬ ì´ê²ƒì„ ì§€í˜œë¡­ê³  ìŠ¬ê¸° ìˆëŠ” ìë“¤ì—ê²ŒëŠ” ìˆ¨ê¸°ì‹œê³  ì–´ë¦° ì•„ì´ë“¤ì—ê²ŒëŠ” ë‚˜íƒ€ë‚´ì‹¬ì„ ê°ì‚¬í•˜ë‚˜ì´ë‹¤"},
  {ref:"ë§ˆ11:29", text:"ë‚˜ëŠ” ë§ˆìŒì´ ì˜¨ìœ í•˜ê³  ê²¸ì†í•˜ë‹ˆ ë‚˜ì˜ ë©ì—ë¥¼ ë©”ê³  ë‚´ê²Œ ë°°ìš°ë¼ ê·¸ë¦¬í•˜ë©´ ë„ˆí¬ ë§ˆìŒì´ ì‰¼ì„ ì–»ìœ¼ë¦¬ë‹ˆ"},
  {ref:"ëˆ…6:36", text:"ë„ˆí¬ ì•„ë²„ì§€ì˜ ìë¹„ë¡œìš°ì‹¬ ê°™ì´ ë„ˆí¬ë„ ìë¹„ë¡œìš´ ìê°€ ë˜ë¼"},
  {ref:"ìš”12:24", text:"ë‚´ê°€ ì§„ì‹¤ë¡œ ì§„ì‹¤ë¡œ ë„ˆí¬ì—ê²Œ ì´ë¥´ë…¸ë‹ˆ í•œ ì•Œì˜ ë°€ì´ ë•…ì— ë–¨ì–´ì ¸ ì£½ì§€ ì•„ë‹ˆí•˜ë©´ í•œ ì•Œ ê·¸ëŒ€ë¡œ ìˆê³  ì£½ìœ¼ë©´ ë§ì€ ì—´ë§¤ë¥¼ ë§ºëŠë‹ˆë¼"},
  {ref:"í–‰4:35", text:"ì‚¬ë„ë“¤ì˜ ë°œ ì•ì— ë‘ë§¤ ê·¸ë“¤ì´ ê° ì‚¬ëŒì˜ í•„ìš”ë¥¼ ë”°ë¼ ë‚˜ëˆ„ì–´ ì¤Œì´ë¼"},
  {ref:"í–‰10:2", text:"ê·¸ê°€ ê²½ê±´í•˜ì—¬ ì˜¨ ì§‘ì•ˆê³¼ ë”ë¶ˆì–´ í•˜ë‚˜ë‹˜ì„ ê²½ì™¸í•˜ë©° ë°±ì„±ì„ ë§ì´ êµ¬ì œí•˜ê³  í•˜ë‚˜ë‹˜ê»˜ í•­ìƒ ê¸°ë„í•˜ë”ë‹ˆ."},
  {ref:"ë¡¬12:15", text:"ì¦ê±°ì›Œí•˜ëŠ” ìë“¤ê³¼ í•¨ê»˜ ì¦ê±°ì›Œí•˜ê³  ìš°ëŠ” ìë“¤ê³¼ í•¨ê»˜ ìš¸ë¼"},
  {ref:"ë¡¬12:18", text:"í•  ìˆ˜ ìˆê±°ë“  ë„ˆí¬ë¡œì„œëŠ” ëª¨ë“  ì‚¬ëŒê³¼ ë”ë¶ˆì–´ í™”ëª©í•˜ë¼"},
  {ref:"ë¡¬14:1", text:"ë¯¿ìŒì´ ì—°ì•½í•œ ìë¥¼ ë„ˆí¬ê°€ ë°›ë˜ ê·¸ì˜ ì˜ê²¬ì„ ë¹„íŒí•˜ì§€ ë§ë¼"},
  {ref:"ê³ ì „4:2", text:"ê·¸ë¦¬ê³  ë§¡ì€ ìë“¤ì—ê²Œ êµ¬í•  ê²ƒì€ ì¶©ì„±ì´ë‹ˆë¼"},
  {ref:"ê³ ì „9:23", text:"ë‚´ê°€ ë³µìŒì„ ìœ„í•˜ì—¬ ëª¨ë“  ê²ƒì„ í–‰í•¨ì€ ë³µìŒì— ì°¸ì—¬í•˜ê³ ì í•¨ì´ë¼"},
  {ref:"ê³ ì „10:31", text:"ê·¸ëŸ°ì¦‰ ë„ˆí¬ê°€ ë¨¹ë“ ì§€ ë§ˆì‹œë“ ì§€ ë¬´ì—‡ì„ í•˜ë“ ì§€ ë‹¤ í•˜ë‚˜ë‹˜ì˜ ì˜ê´‘ì„ ìœ„í•˜ì—¬ í•˜ë¼."},
  {ref:"ê³ ì „14:40", text:"ëª¨ë“  ê²ƒì„ í’ˆìœ„ ìˆê²Œ í•˜ê³  ì§ˆì„œ ìˆê²Œ í•˜ë¼"},
  {ref:"ê³ ì „15:57", text:"ìš°ë¦¬ ì£¼ ì˜ˆìˆ˜ ê·¸ë¦¬ìŠ¤ë„ë¡œ ë§ë¯¸ì•”ì•„ ìš°ë¦¬ì—ê²Œ ìŠ¹ë¦¬ë¥¼ ì£¼ì‹œëŠ” í•˜ë‚˜ë‹˜ê»˜ ê°ì‚¬í•˜ë…¸ë‹ˆ"},
  {ref:"ê³ í›„1:4", text:"ìš°ë¦¬ì˜ ëª¨ë“  í™˜ë‚œ ì¤‘ì—ì„œ ìš°ë¦¬ë¥¼ ìœ„ë¡œí•˜ì‚¬ ìš°ë¦¬ë¡œ í•˜ì—¬ê¸ˆ í•˜ë‚˜ë‹˜ê»˜ ë°›ëŠ” ìœ„ë¡œë¡œì¨ ëª¨ë“  í™˜ë‚œ ì¤‘ì— ìˆëŠ” ìë“¤ì„ ëŠ¥íˆ ìœ„ë¡œí•˜ê²Œ í•˜ì‹œëŠ” ì´ì‹œë¡œë‹¤"},
  {ref:"ì—¡2:19", text:"ê·¸ëŸ¬ë¯€ë¡œ ì´ì œë¶€í„° ë„ˆí¬ëŠ” ì™¸ì¸ë„ ì•„ë‹ˆìš” ë‚˜ê·¸ë„¤ë„ ì•„ë‹ˆìš” ì˜¤ì§ ì„±ë„ë“¤ê³¼ ë™ì¼í•œ ì‹œë¯¼ì´ìš” í•˜ë‚˜ë‹˜ì˜ ê¶Œì†ì´ë¼"},
  {ref:"ë¹Œ1:10", text:"ë„ˆí¬ë¡œ ì§€ê·¹íˆ ì„ í•œ ê²ƒì„ ë¶„ë³„í•˜ë©° ë˜ ì§„ì‹¤í•˜ì—¬ í—ˆë¬¼ ì—†ì´ ê·¸ë¦¬ìŠ¤ë„ì˜ ë‚ ê¹Œì§€ ì´ë¥´ê³ "},
  {ref:"ë¹Œ1:18", text:"ê·¸ëŸ¬ë©´ ë¬´ì—‡ì´ëƒ ê²‰ì¹˜ë ˆë¡œ í•˜ë‚˜ ì°¸ìœ¼ë¡œ í•˜ë‚˜ ë¬´ìŠ¨ ë°©ë„ë¡œ í•˜ë“ ì§€ ì „íŒŒë˜ëŠ” ê²ƒì€ ê·¸ë¦¬ìŠ¤ë„ë‹ˆ ì´ë¡œì¨ ë‚˜ëŠ” ê¸°ë»í•˜ê³  ë˜í•œ ê¸°ë»í•˜ë¦¬ë¼."},
  {ref:"ë¹Œ2:3", text:"ì•„ë¬´ ì¼ì—ë“ ì§€ ë‹¤íˆ¼ì´ë‚˜ í—ˆì˜ìœ¼ë¡œ í•˜ì§€ ë§ê³  ì˜¤ì§ ê²¸ì†í•œ ë§ˆìŒìœ¼ë¡œ ê°ê° ìê¸°ë³´ë‹¤ ë‚¨ì„ ë‚«ê²Œ ì—¬ê¸°ê³ "},
  {ref:"ë¹Œ2:8", text:"ì‚¬ëŒì˜ ëª¨ì–‘ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ì‚¬ ìê¸°ë¥¼ ë‚®ì¶”ì‹œê³  ì£½ê¸°ê¹Œì§€ ë³µì¢…í•˜ì…¨ìœ¼ë‹ˆ ê³§ ì‹­ìê°€ì— ì£½ìœ¼ì‹¬ì´ë¼"},
  {ref:"ë¹Œ4:8", text:"ëìœ¼ë¡œ í˜•ì œë“¤ì•„ ë¬´ì—‡ì—ë“ ì§€ ì°¸ë˜ë©° ë¬´ì—‡ì—ë“ ì§€ ê²½ê±´í•˜ë©° ë¬´ì—‡ì—ë“ ì§€ ì˜³ìœ¼ë©° ë¬´ì—‡ì—ë“ ì§€ ì •ê²°í•˜ë©° ë¬´ì—‡ì—ë“ ì§€ ì‚¬ë‘ ë°›ì„ ë§Œí•˜ë©° ë¬´ì—‡ì—ë“ ì§€ ì¹­ì°¬ ë°›ì„ ë§Œí•˜ë©° ë¬´ìŠ¨ ë•ì´ ìˆë“ ì§€ ë¬´ìŠ¨ ê¸°ë¦¼ì´ ìˆë“ ì§€ ì´ê²ƒë“¤ì„ ìƒê°í•˜ë¼"},
  {ref:"ë¹Œ4:13", text:"ë‚´ê²Œ ëŠ¥ë ¥ ì£¼ì‹œëŠ” ì ì•ˆì—ì„œ ë‚´ê°€ ëª¨ë“  ê²ƒì„ í•  ìˆ˜ ìˆëŠë¼"},
  {ref:"ê³¨3:13", text:"ëˆ„ê°€ ëˆ„êµ¬ì—ê²Œ ë¶ˆë§Œì´ ìˆê±°ë“  ì„œë¡œ ìš©ë‚©í•˜ì—¬ í”¼ì°¨ ìš©ì„œí•˜ë˜ ì£¼ê»˜ì„œ ë„ˆí¬ë¥¼ ìš©ì„œí•˜ì‹  ê²ƒ ê°™ì´ ë„ˆí¬ë„ ê·¸ë¦¬í•˜ê³ "},
  {ref:"ê³¨3:22", text:"ì¢…ë“¤ì•„ ëª¨ë“  ì¼ì— ìœ¡ì‹ ì˜ ìƒì „ë“¤ì—ê²Œ ìˆœì¢…í•˜ë˜ ì‚¬ëŒì„ ê¸°ì˜ê²Œ í•˜ëŠ” ìì™€ ê°™ì´ ëˆˆê°€ë¦¼ë§Œ í•˜ì§€ ë§ê³  ì˜¤ì§ ì£¼ë¥¼ ë‘ë ¤ì›Œí•˜ì—¬ ì„±ì‹¤í•œ ë§ˆìŒìœ¼ë¡œ í•˜ë¼"},
  {ref:"ë”¤ì „6:8", text:"ìš°ë¦¬ê°€ ë¨¹ì„ ê²ƒê³¼ ì…ì„ ê²ƒì´ ìˆì€ì¦‰ ì¡±í•œ ì¤„ë¡œ ì•Œ ê²ƒì´ë‹ˆë¼."},
  {ref:"ë”¤í›„4:2", text:"ë„ˆëŠ” ë§ì”€ì„ ì „íŒŒí•˜ë¼ ë•Œë¥¼ ì–»ë“ ì§€ ëª» ì–»ë“ ì§€ í•­ìƒ í˜ì“°ë¼ ë²”ì‚¬ì— ì˜¤ë˜ ì°¸ìŒê³¼ ê°€ë¥´ì¹¨ìœ¼ë¡œ ê²½ì±…í•˜ë©° ê²½ê³„í•˜ë©° ê¶Œí•˜ë¼"},
  {ref:"ë”›2:7", text:"ë²”ì‚¬ì— ë„¤ ìì‹ ì´ ì„ í•œ ì¼ì˜ ë³¸ì„ ë³´ì´ë©° êµí›ˆì— ë¶€íŒ¨í•˜ì§€ ì•„ë‹ˆí•¨ê³¼ ë‹¨ì •í•¨ê³¼"},
  {ref:"íˆ10:24-25", text:"ì„œë¡œ ëŒì•„ë³´ì•„ ì‚¬ë‘ê³¼ ì„ í–‰ì„ ê²©ë ¤í•˜ë©° ëª¨ì´ê¸°ë¥¼ íí•˜ëŠ” ì–´ë–¤ ì‚¬ëŒë“¤ì˜ ìŠµê´€ê³¼ ê°™ì´ í•˜ì§€ ë§ê³  ì˜¤ì§ ê¶Œí•˜ì—¬ ê·¸ ë‚ ì´ ê°€ê¹Œì›€ì„ ë³¼ìˆ˜ë¡ ë”ìš± ê·¸ë¦¬í•˜ì."},
  {ref:"íˆ13:2", text:"ì†ë‹˜ ëŒ€ì ‘í•˜ê¸°ë¥¼ ìŠì§€ ë§ë¼ ì´ë¡œì¨ ë¶€ì§€ì¤‘ì— ì²œì‚¬ë“¤ì„ ëŒ€ì ‘í•œ ì´ë“¤ì´ ìˆì—ˆëŠë‹ˆë¼"},
  {ref:"íˆ13:8", text:"ì˜ˆìˆ˜ ê·¸ë¦¬ìŠ¤ë„ëŠ” ì–´ì œë‚˜ ì˜¤ëŠ˜ì´ë‚˜ ì˜ì›í† ë¡ ë™ì¼í•˜ì‹œë‹ˆë¼"},
  {ref:"ì•½1:5", text:"ë„ˆí¬ ì¤‘ì— ëˆ„êµ¬ë“ ì§€ ì§€í˜œê°€ ë¶€ì¡±í•˜ê±°ë“  ëª¨ë“  ì‚¬ëŒì—ê²Œ í›„íˆ ì£¼ì‹œê³  ê¾¸ì§–ì§€ ì•„ë‹ˆí•˜ì‹œëŠ” í•˜ë‚˜ë‹˜ê»˜ êµ¬í•˜ë¼ ê·¸ë¦¬í•˜ë©´ ì£¼ì‹œë¦¬ë¼"},
  {ref:"ì•½1:19", text:"ë‚´ ì‚¬ë‘í•˜ëŠ” í˜•ì œë“¤ì•„ ë„ˆí¬ê°€ ì•Œì§€ë‹ˆ ì‚¬ëŒë§ˆë‹¤ ë“£ê¸°ëŠ” ì†íˆ í•˜ê³  ë§í•˜ê¸°ëŠ” ë”ë”” í•˜ë©° ì„±ë‚´ê¸°ë„ ë”ë”” í•˜ë¼"},
  {ref:"ë²§ì „1:16", text:"ê¸°ë¡ë˜ì—ˆìœ¼ë˜ ë‚´ê°€ ê±°ë£©í•˜ë‹ˆ ë„ˆí¬ë„ ê±°ë£©í• ì§€ì–´ë‹¤ í•˜ì…¨ëŠë‹ˆë¼."},
  {ref:"ë²§ì „2:17", text:"ë­‡ ì‚¬ëŒì„ ê³µê²½í•˜ë©° í˜•ì œë¥¼ ì‚¬ë‘í•˜ë©° í•˜ë‚˜ë‹˜ì„ ë‘ë ¤ì›Œí•˜ë©° ì™•ì„ ì¡´ëŒ€í•˜ë¼"},
  {ref:"ë²§í›„1:4", text:"ì´ë¡œì¨ ê·¸ ë³´ë°°ë¡­ê³  ì§€ê·¹íˆ í° ì•½ì†ì„ ìš°ë¦¬ì—ê²Œ ì£¼ì‚¬ ì´ ì•½ì†ìœ¼ë¡œ ë§ë¯¸ì•”ì•„ ë„ˆí¬ê°€ ì •ìš• ë•Œë¬¸ì— ì„¸ìƒì—ì„œ ì©ì–´ì§ˆ ê²ƒì„ í”¼í•˜ì—¬ ì‹ ì„±í•œ ì„±í’ˆì— ì°¸ì—¬í•˜ëŠ” ìê°€ ë˜ê²Œ í•˜ë ¤ í•˜ì…¨ëŠë‹ˆë¼."},
  {ref:"ë²§í›„3:9", text:"ì£¼ì˜ ì•½ì†ì€ ì–´ë–¤ ì´ë“¤ì´ ë”ë””ë‹¤ê³  ìƒê°í•˜ëŠ” ê²ƒ ê°™ì´ ë”ë”˜ ê²ƒì´ ì•„ë‹ˆë¼ ì˜¤ì§ ì£¼ê»˜ì„œëŠ” ë„ˆí¬ë¥¼ ëŒ€í•˜ì—¬ ì˜¤ë˜ ì°¸ìœ¼ì‚¬ ì•„ë¬´ë„ ë©¸ë§í•˜ì§€ ì•„ë‹ˆí•˜ê³  ë‹¤ íšŒê°œí•˜ê¸°ì— ì´ë¥´ê¸°ë¥¼ ì›í•˜ì‹œëŠë‹ˆë¼"},
  {ref:"ìš”ì¼4:16", text:"í•˜ë‚˜ë‹˜ì´ ìš°ë¦¬ë¥¼ ì‚¬ë‘í•˜ì‹œëŠ” ì‚¬ë‘ì„ ìš°ë¦¬ê°€ ì•Œê³  ë¯¿ì—ˆë…¸ë‹ˆ í•˜ë‚˜ë‹˜ì€ ì‚¬ë‘ì´ì‹œë¼ ì‚¬ë‘ ì•ˆì— ê±°í•˜ëŠ” ìëŠ” í•˜ë‚˜ë‹˜ ì•ˆì— ê±°í•˜ê³  í•˜ë‚˜ë‹˜ë„ ê·¸ì˜ ì•ˆì— ê±°í•˜ì‹œëŠë‹ˆë¼"}
];

/* ê²Œì„ ë¡œì§ */
const GAME_SIZE = 10;
let currentPairs = [];
let selectedLeft = null;
let selectedRight = null;
let matchCount = 0;

const elRefs = document.getElementById("list-refs");
const elTexts = document.getElementById("list-texts");
const elSvg = document.getElementById("svg-layer");
const elScore = document.getElementById("score");
const elContainer = document.getElementById("game-area");

// ë°°ì—´ ì…”í”Œ í•¨ìˆ˜
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// í…ìŠ¤íŠ¸ ë§ì¤„ì„ (í™”ë©´ìƒ ë„ˆë¬´ ê¸¸ì§€ ì•Šê²Œ)
function truncate(str, n) {
  return (str.length > n) ? str.substr(0, n-1) + "..." : str;
}

function initGame() {
  elRefs.innerHTML = "";
  elTexts.innerHTML = "";
  elSvg.innerHTML = "";
  currentPairs = [];
  selectedLeft = null;
  selectedRight = null;
  matchCount = 0;
  elScore.textContent = `0 / ${GAME_SIZE}`;

  // ì „ì²´ ì¹´ë“œ ì¤‘ ëœë¤ 10ê°œ ì„ íƒ
  const pool = [...CARDS];
  shuffle(pool);
  currentPairs = pool.slice(0, GAME_SIZE);

  // ì™¼ìª½(ì¥ì ˆ), ì˜¤ë¥¸ìª½(ë§ì”€) ë°ì´í„° ì¤€ë¹„
  const leftItems = currentPairs.map(c => ({ id: c.ref, text: c.ref }));
  const rightItems = currentPairs.map(c => ({ id: c.ref, text: c.text }));

  // ì˜¤ë¥¸ìª½ì€ ìˆœì„œë¥¼ ì„ìŒ
  shuffle(rightItems);

  // DOM ìƒì„±
  leftItems.forEach(item => createItem(item, 'left'));
  rightItems.forEach(item => createItem(item, 'right'));
}

function createItem(data, side) {
  const div = document.createElement("div");
  div.className = "item";
  div.dataset.id = data.id;
  div.dataset.side = side;
  
  // ì˜¤ë¥¸ìª½(ë§ì”€)ì€ ë„ˆë¬´ ê¸¸ë©´ ì ë‹¹íˆ ìë¥´ê³ , íˆ´íŒìœ¼ë¡œ ì „ì²´ í‘œì‹œ
  if (side === 'right') {
    div.textContent = truncate(data.text, 50);
    div.title = data.text; 
  } else {
    div.textContent = data.text;
  }

  div.onclick = () => handleSelect(div, side);
  
  if (side === 'left') elRefs.appendChild(div);
  else elTexts.appendChild(div);
}

function handleSelect(el, side) {
  if (el.classList.contains("matched")) return;

  // ê°™ì€ ìª½ì„ ë‹¤ì‹œ í´ë¦­í•˜ë©´ ì„ íƒ ì·¨ì†Œ/ë³€ê²½
  if (side === 'left') {
    if (selectedLeft) selectedLeft.classList.remove("selected");
    selectedLeft = el;
    el.classList.add("selected");
  } else {
    if (selectedRight) selectedRight.classList.remove("selected");
    selectedRight = el;
    el.classList.add("selected");
  }

  // ì–‘ìª½ì´ ë‹¤ ì„ íƒë˜ì—ˆìœ¼ë©´ ì •ë‹µ ì²´í¬
  if (selectedLeft && selectedRight) {
    checkMatch();
  }
}

function checkMatch() {
  const idLeft = selectedLeft.dataset.id;
  const idRight = selectedRight.dataset.id;
  const isMatch = (idLeft === idRight);

  if (isMatch) {
    // ì •ë‹µ ì²˜ë¦¬
    drawSuccessLine(selectedLeft, selectedRight);
    selectedLeft.classList.add("matched");
    selectedRight.classList.add("matched");
    selectedLeft.classList.remove("selected");
    selectedRight.classList.remove("selected");
    
    selectedLeft = null;
    selectedRight = null;
    matchCount++;
    elScore.textContent = `${matchCount} / ${GAME_SIZE}`;

    if (matchCount === GAME_SIZE) {
      setTimeout(() => alert("ğŸ‰ ëª¨ë“  êµ¬ì ˆì„ ì—°ê²°í–ˆìŠµë‹ˆë‹¤!"), 300);
    }
  } else {
    // ì˜¤ë‹µ ì²˜ë¦¬
    const l = selectedLeft, r = selectedRight;
    l.classList.add("shake"); r.classList.add("shake");
    drawTempLine(l, r, "#ef4444"); // ë¹¨ê°„ì„  ì ì‹œ í‘œì‹œ

    setTimeout(() => {
      l.classList.remove("shake", "selected");
      r.classList.remove("shake", "selected");
    }, 500);

    selectedLeft = null;
    selectedRight = null;
  }
}

// SVG ì„  ê·¸ë¦¬ê¸° ìœ í‹¸ë¦¬í‹°
function getCenter(element) {
  const rect = element.getBoundingClientRect();
  const containerRect = elContainer.getBoundingClientRect();
  return {
    x: rect.left + rect.width / 2 - containerRect.left,
    y: rect.top + rect.height / 2 - containerRect.top
  };
}

function drawLine(el1, el2, color, isTemp = false) {
  const p1 = getCenter(el1);
  const p2 = getCenter(el2);

  const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
  line.setAttribute("x1", p1.x);
  line.setAttribute("y1", p1.y);
  line.setAttribute("x2", p2.x);
  line.setAttribute("y2", p2.y);
  line.setAttribute("stroke", color);
  
  elSvg.appendChild(line);
  
  // ì°½ í¬ê¸° ì¡°ì ˆ ì‹œ ì„  ìœ„ì¹˜ ê°±ì‹ ì„ ìœ„í•´ ë°ì´í„° ì €ì¥
  if (!isTemp) {
    line.dataset.leftId = el1.dataset.id; // ë‚˜ì¤‘ì— ë¦¬ì‚¬ì´ì¦ˆí•  ë•Œ ì‹ë³„ìš© (ë‹¨ìˆœêµ¬í˜„ì„ ìœ„í•´ ìƒëµ ê°€ëŠ¥í•˜ë‚˜ ì™„ì„±ë„ ìœ„í•¨)
  }
  return line;
}

function drawSuccessLine(el1, el2) {
  drawLine(el1, el2, "#22c55e"); // Green
}

function drawTempLine(el1, el2, color) {
  const line = drawLine(el1, el2, color, true);
  setTimeout(() => {
    if (line && line.parentNode) line.parentNode.removeChild(line);
  }, 500);
}

// ì°½ í¬ê¸° ë³€ê²½ ì‹œ ê¸°ì¡´ ì •ë‹µ ì„ ë“¤ ìœ„ì¹˜ ë‹¤ì‹œ ê³„ì‚°
window.addEventListener("resize", () => {
  // SVG ì´ˆê¸°í™” í›„ ë§¤ì¹­ëœ í•­ëª©ë“¤ë§Œ ë‹¤ì‹œ ì—°ê²°
  elSvg.innerHTML = "";
  const lefts = Array.from(elRefs.querySelectorAll(".matched"));
  const rights = Array.from(elTexts.querySelectorAll(".matched"));
  
  lefts.forEach(l => {
    const id = l.dataset.id;
    const r = rights.find(item => item.dataset.id === id);
    if (r) drawSuccessLine(l, r);
  });
});

// ê²Œì„ ì‹œì‘
initGame();
</script>
</body>
</html>